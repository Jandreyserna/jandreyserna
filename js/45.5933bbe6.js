"use strict";(self["webpackChunkcampamento_front"]=self["webpackChunkcampamento_front"]||[]).push([[45],{45:function(e,r,t){t.r(r),t.d(r,{default:function(){return ve}});var o=t(641),i=t(751),a=t(33);const n=e=>((0,o.Qi)("data-v-2dab0f82"),e=e(),(0,o.jt)(),e),s={class:"container-form"},l={class:"container-form-register"},u=n((()=>(0,o.Lk)("h2",null,"Registro",-1))),d=n((()=>(0,o.Lk)("p",null,"ten en cuenta: la informacion solicitada en los campos con este simbobo '*' son obligatorios",-1))),c={class:"form-group"},h=n((()=>(0,o.Lk)("label",{for:"idType"},[(0,o.eW)("Tipo de identificación: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),m=n((()=>(0,o.Lk)("option",{value:"0",disabled:""},"Seleccione uno",-1))),p=["value"],g={key:0,class:"error"},N={class:"form-group"},k=n((()=>(0,o.Lk)("label",{for:"identification"},[(0,o.eW)("Número de identificación: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),f={key:0,class:"error"},b={class:"form-group"},v=n((()=>(0,o.Lk)("label",{for:"firstName"},[(0,o.eW)("Nombre: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),L={key:0,class:"error"},y={class:"form-group"},E=n((()=>(0,o.Lk)("label",{for:"lastName"},[(0,o.eW)("Apellido: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),C={key:0,class:"error"},T={class:"form-group"},W=n((()=>(0,o.Lk)("label",{for:"email"},[(0,o.eW)("Correo electrónico: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),Y={key:0,class:"error"},X={class:"form-group"},_=n((()=>(0,o.Lk)("label",{for:"genero"},[(0,o.eW)("Género: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),S=n((()=>(0,o.Lk)("option",{value:"0",disabled:""}," Seleccione uno",-1))),V=n((()=>(0,o.Lk)("option",{value:"male"},"Masculino",-1))),x=n((()=>(0,o.Lk)("option",{value:"female"},"Femenino",-1))),D=[S,V,x],Q={key:0,class:"error"},P={class:"form-group"},I=n((()=>(0,o.Lk)("label",{for:"city"},[(0,o.eW)("Ciudad de residencia: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),U={key:0,class:"error"},q={class:"form-group"},F=n((()=>(0,o.Lk)("label",{for:"phoneNumber"},[(0,o.eW)("Número celular: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),J={key:0,class:"error"},A={class:"form-group"},w=n((()=>(0,o.Lk)("p",null,[(0,o.eW)("¿Te congregas regularmente? ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),R={class:"checkbox-group"},$=n((()=>(0,o.Lk)("p",null,"Si",-1))),B=n((()=>(0,o.Lk)("p",null,"No",-1))),H={key:0,class:"error"},j={key:0,class:"form-group"},M=n((()=>(0,o.Lk)("label",{for:"congregation"},"¿Cual es el nombre de la congregación?:",-1))),O={key:0,class:"error"},G={class:"form-group"},K=n((()=>(0,o.Lk)("label",{for:"birthDate"},[(0,o.eW)("Fecha de nacimiento: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),Z={key:0,class:"error"},z={key:1,class:"form-group"},ee=n((()=>(0,o.Lk)("label",{for:"tutorName"},[(0,o.eW)("Nombre de acudiente ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),re={key:0,class:"error"},te={key:2,class:"form-group"},oe=n((()=>(0,o.Lk)("label",{for:"tutorName"},[(0,o.eW)("Apellido de acudiente ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),ie={key:0,class:"error"},ae={key:3,class:"form-group"},ne=n((()=>(0,o.Lk)("label",{for:"tutorPhoneNumber"},[(0,o.eW)("Número celular de acudiente: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),se={key:0,class:"error"},le={key:4,class:"form-group"},ue=n((()=>(0,o.Lk)("label",{for:"identificationTutor"},[(0,o.eW)(" Número de cedula de acudiente: ("),(0,o.Lk)("span",{class:"error"},"*"),(0,o.eW)(")")],-1))),de={key:0,class:"error"},ce=n((()=>(0,o.Lk)("button",{type:"submit"},"Registrar",-1)));function he(e,r,t,n,S,V){return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",l,[u,d,(0,o.Lk)("form",{onSubmit:r[34]||(r[34]=(0,i.D$)(((...e)=>V.handleRegister&&V.handleRegister(...e)),["prevent"]))},[(0,o.Lk)("div",c,[h,(0,o.bo)((0,o.Lk)("select",{id:"idType","onUpdate:modelValue":r[0]||(r[0]=r=>e.idType=r),onBlur:r[1]||(r[1]=e=>V.validateSelect("idType")),onChange:r[2]||(r[2]=e=>V.validateSelect("idType")),required:""},[m,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.idTypes,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id_type,value:e.id_type},(0,a.v_)(e.short_name)+" - "+(0,a.v_)(e.type),9,p)))),128))],544),[[i.u1,e.idType]]),e.idTypeError?((0,o.uX)(),(0,o.CE)("span",g,(0,a.v_)(e.idTypeError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",N,[k,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"identification","onUpdate:modelValue":r[3]||(r[3]=r=>e.identification=r),maxlength:10,onInput:r[4]||(r[4]=e=>V.fieldNoNull(e,"identification")),required:""},null,544),[[i.Jo,e.identification]]),e.identificationError?((0,o.uX)(),(0,o.CE)("span",f,(0,a.v_)(e.identificationError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",b,[v,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":r[5]||(r[5]=r=>e.firstName=r),onInput:r[6]||(r[6]=e=>V.fieldNoNull(e,"firstName")),required:""},null,544),[[i.Jo,e.firstName]]),e.firstNameError?((0,o.uX)(),(0,o.CE)("span",L,(0,a.v_)(e.firstNameError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",y,[E,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":r[7]||(r[7]=r=>e.lastName=r),onInput:r[8]||(r[8]=e=>V.fieldNoNull(e,"lastName")),required:""},null,544),[[i.Jo,e.lastName]]),e.lastNameError?((0,o.uX)(),(0,o.CE)("span",C,(0,a.v_)(e.lastNameError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",T,[W,(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":r[9]||(r[9]=r=>e.email=r),onInput:r[10]||(r[10]=e=>V.fieldNoNull(e,"email")),required:""},null,544),[[i.Jo,e.email]]),e.emailError?((0,o.uX)(),(0,o.CE)("span",Y,(0,a.v_)(e.emailError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",X,[_,(0,o.bo)((0,o.Lk)("select",{id:"genero","onUpdate:modelValue":r[11]||(r[11]=r=>e.genero=r),onBlur:r[12]||(r[12]=e=>V.validateSelect("genero")),onChange:r[13]||(r[13]=e=>V.validateSelect("genero")),required:""},D,544),[[i.u1,e.genero]]),e.generoError?((0,o.uX)(),(0,o.CE)("span",Q,(0,a.v_)(e.generoError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",P,[I,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"city","onUpdate:modelValue":r[14]||(r[14]=r=>e.city=r),onInput:r[15]||(r[15]=e=>V.fieldNoNull(e,"city")),required:""},null,544),[[i.Jo,e.city]]),e.cityError?((0,o.uX)(),(0,o.CE)("span",U,(0,a.v_)(e.cityError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",q,[F,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"phoneNumber","onUpdate:modelValue":r[16]||(r[16]=r=>e.phoneNumber=r),minlength:10,maxlength:10,onBlur:r[17]||(r[17]=e=>V.validateNumeric(e,"phoneNumber")),required:""},null,544),[[i.Jo,e.phoneNumber]]),e.phoneNumberError?((0,o.uX)(),(0,o.CE)("span",J,(0,a.v_)(e.phoneNumberError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",A,[w,(0,o.Lk)("div",R,[(0,o.Lk)("label",null,[$,(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":r[18]||(r[18]=r=>e.isCheckedYes=r),onClick:r[19]||(r[19]=e=>V.handleCheckboxChange("yes"))},null,512),[[i.lH,e.isCheckedYes]])]),(0,o.Lk)("label",null,[B,(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":r[20]||(r[20]=r=>e.isCheckedNo=r),onClick:r[21]||(r[21]=e=>V.handleCheckboxChange("no"))},null,512),[[i.lH,e.isCheckedNo]])])]),e.congregationSelectError?((0,o.uX)(),(0,o.CE)("p",H,"Por favor, selecciona una opción.")):(0,o.Q3)("",!0)]),e.isCheckedYes?((0,o.uX)(),(0,o.CE)("div",j,[M,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"congregation","onUpdate:modelValue":r[22]||(r[22]=r=>e.congregation=r),onInput:r[23]||(r[23]=e=>V.fieldNoNull(e,"congregation")),required:""},null,544),[[i.Jo,e.congregation]]),e.congregationError?((0,o.uX)(),(0,o.CE)("span",O,(0,a.v_)(e.congregationError),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",G,[K,(0,o.bo)((0,o.Lk)("input",{type:"date",id:"birthDate","onUpdate:modelValue":r[24]||(r[24]=r=>e.birthDate=r),onChange:r[25]||(r[25]=(...e)=>V.validateAge&&V.validateAge(...e)),required:""},null,544),[[i.Jo,e.birthDate]]),e.birthDateError?((0,o.uX)(),(0,o.CE)("span",Z,(0,a.v_)(e.birthDateError),1)):(0,o.Q3)("",!0)]),e.isYounger?((0,o.uX)(),(0,o.CE)("div",z,[ee,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"tutorName","onUpdate:modelValue":r[26]||(r[26]=r=>e.tutorName=r),onInput:r[27]||(r[27]=e=>V.fieldNoNull(e,"tutorName")),required:""},null,544),[[i.Jo,e.tutorName]]),e.tutorNameError?((0,o.uX)(),(0,o.CE)("span",re,(0,a.v_)(e.tutorNamesError),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),e.isYounger?((0,o.uX)(),(0,o.CE)("div",te,[oe,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"tutorLastName",onInput:r[28]||(r[28]=e=>V.fieldNoNull(e,"tutorLastName")),"onUpdate:modelValue":r[29]||(r[29]=r=>e.tutorLastName=r),required:""},null,544),[[i.Jo,e.tutorLastName]]),e.tutorLastNameError?((0,o.uX)(),(0,o.CE)("span",ie,(0,a.v_)(e.tutorLastNameError),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),e.isYounger?((0,o.uX)(),(0,o.CE)("div",ae,[ne,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"tutorPhoneNumber","onUpdate:modelValue":r[30]||(r[30]=r=>e.tutorPhoneNumber=r),minlength:10,maxlength:10,onInput:r[31]||(r[31]=e=>V.validateNumeric(e,"tutorPhoneNumber")),required:""},null,544),[[i.Jo,e.tutorPhoneNumber]]),e.tutorPhoneNumberError?((0,o.uX)(),(0,o.CE)("span",se,(0,a.v_)(e.tutorPhoneNumberError),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),e.isYounger?((0,o.uX)(),(0,o.CE)("div",le,[ue,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"identificationTutor","onUpdate:modelValue":r[32]||(r[32]=r=>e.identificationTutor=r),maxlength:10,onInput:r[33]||(r[33]=e=>V.fieldNoNull(e,"identificationTutor")),required:""},null,544),[[i.Jo,e.identificationTutor]]),e.identificationTutorError?((0,o.uX)(),(0,o.CE)("span",de,(0,a.v_)(e.identificationTutorError),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),ce],32)])])}var me=t(278),pe=t(596);const ge={idType:"0",identification:"",firstName:"",lastName:"",genero:"0",city:"",email:"",congregation:"",phoneNumber:"",birthDate:"",isCheckedYes:!1,isCheckedNo:!1,isYounger:!1,tutorName:"",tutorLastName:"",tutorPhoneNumber:"",identificationTutor:""},Ne={phoneError:"",idTypeError:"",generoError:"",cityError:"",emailError:"",identificationError:"",firstNameError:"",lastNameError:"",congregationError:"",birthDateError:"",tutorNameError:"",tutorLastNameError:"",tutorPhoneError:"",identificationTutorError:"",congregationSelectError:!1};var ke={name:"RegisterPage",data(){return{...ge,...Ne}},computed:{...(0,me.L8)({idTypes:"loadTypeId/idTypes"}),isFormValid(){return"0"!==this.idType&&""!==this.identification&&""!==this.firstName&&""!==this.lastName&&"0"!==this.genero&&""!==this.city&&""!==this.email&&this.phoneNumber.length>=10&&""!==this.birthDate&&(1==this.isCheckedYes||1==this.isCheckedNo)},isFormValidTutor(){return""!==this.tutorName&&""!==this.tutorLastName&&10==this.tutorPhoneNumber.length&&""!==this.identificationTutor}},created(){this.fetchIdTypes()},methods:{...(0,me.i0)("loadTypeId",["fetchIdTypes"]),async loadData(){try{const e=await this.fetchIdTypes();this.idType=e}catch(e){console.error("Error loading data:",e)}},validateNumeric(e,r){const t=e.target.value||"",o=String(t).replace(/[^0-9]/g,"");this[r]=o,this[`${r}Error`]=10===o.length?"":"El numero debe tener una longitud de 10 digitos"},validateSelect(e){this[`${e}Error`]="0"===this[e]?"Debe seleccionar una opción válida":""},validateAge(){const e=new Date(this.birthDate),r=new Date("2024-11-09T00:00:00Z"),t=r-e.getTime(),o=new Date(t),i=Math.abs(o.getUTCFullYear()-1970);i<13?(this.isYounger=!1,alert("Debe ser mayor de 13 años."),this.birthDate=""):i<18&&(this.isYounger=!0)},fieldNoNull(e,r){this[`${r}Error`]=""===e.target.value?"Este campo no puede estar vacio":""},validateForm(){this.validateSelect("idType"),this.validateSelect("genero"),this.validateNumeric({target:{value:this.phoneNumber||""}},"phoneNumber"),["identification","firstName","lastName","city","email","congregation","birthDate"].forEach((e=>{this.fieldNoNull({target:{value:this[e]||""}},e)})),this.isYounger&&(this.validateNumeric({target:{value:this.tutorPhoneNumber||""}},"tutorPhoneNumber"),["identificationTutor","tutorName","tutorLastName"].forEach((e=>{this.fieldNoNull({target:{value:this[e]||""}},e)}))),this.validateCongregationSelection()},handleCheckboxChange(e){"yes"===e?(this.isCheckedYes=!this.isCheckedYes,this.congregationSelectError="",this.isCheckedYes&&(this.isCongregating=!0,this.isCheckedNo=!1)):"no"===e&&(this.isCheckedNo=!this.isCheckedNo,this.congregationSelectError="",this.isCheckedNo&&(this.isCongregating=!1,this.isCheckedYes=!1))},validateCongregationSelection(){return this.isCheckedYes||this.isCheckedNo?(this.congregationSelectError=!1,!0):(this.congregationSelectError="Selecciona una opción",!1)},handleRegister(){if(this.validateForm(),console.log(this.isFormValid),console.log(this.isFormValidTutor),!this.isFormValid||this.isYounger&&!this.isFormValidTutor)return void alert("Por favor, complete todos los campos requeridos.");const e={idType:this.idType,identification:this.identification,firstName:this.firstName,lastName:this.lastName,email:this.email,genero:this.genero,city:this.city,congregation:this.congregation,isCongregating:this.isCongregating,phoneNumber:this.phoneNumber,birthDate:this.birthDate,isCheckedYes:this.isCheckedYes,isCheckedNo:this.isCheckedNo,isYounger:this.isYounger,tutorName:this.tutorName,tutorLastName:this.tutorLastName,tutorPhoneNumber:this.tutorPhoneNumber,identificationTutor:this.identificationTutor};pe.A.post("/register/submit-form",e).then((e=>{if(e.data.message.success)alert("Formulario enviado con éxito"),this.resetForm();else{const r=JSON.stringify(e.data.message.message);alert(r)}})).catch((e=>{console.error("Error al enviar el formulario:",e),alert("Hubo un error al enviar el formulario. Por favor, inténtelo de nuevo.")}))},resetForm(){Object.assign(this.$data,{...ge,...Ne})}}},fe=t(262);const be=(0,fe.A)(ke,[["render",he],["__scopeId","data-v-2dab0f82"]]);var ve=be}}]);
//# sourceMappingURL=45.5933bbe6.js.map